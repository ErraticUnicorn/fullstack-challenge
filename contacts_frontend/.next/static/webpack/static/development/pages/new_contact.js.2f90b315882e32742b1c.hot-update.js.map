{"version":3,"file":"static/webpack/static/development/pages/new_contact.js.2f90b315882e32742b1c.hot-update.js","sources":["webpack:///./pages/new_contact.js"],"sourcesContent":["import React, { Component } from 'react'\nimport Router from 'next/router'\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport { Button, TextField, FormControl, Input, Typography } from '@material-ui/core';\n\nimport fetch from 'isomorphic-unfetch'\n\n\nexport default class NewContact extends Component {\n\n    constructor() {\n        super();\n        this.state = {\n          first_name: '',\n          last_name: '',\n          phone_number: '',\n          email: '',\n          error: ''\n        };\n    }\n\n    handleSubmit = (evt) => {\n        evt.preventDefault();\n        const { first_name, last_name, email, phone_number } = this.state;\n        fetch(`http://localhost:5000/contacts/create`, {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n                first_name,\n                last_name,\n                email,\n                phone_number\n            })\n        }).then(res => res.json()).then((response) => {\n            if (!response.error) {\n                Router.back()\n            } else {\n                this.setState({ error: JSON.stringify(response.error.message) });\n            }\n        }).catch(error => this.setState({ error: 'Something went wrong' }));\n    }\n\n    handleFirstNameChange = (evt) => {\n        this.setState({\n          first_name: evt.target.value,\n        });\n      }\n    \n    handleLastNameChange = (evt) => {\n        this.setState({\n            last_name: evt.target.value,\n        });\n    }\n\n        \n    handlePhoneChange = (evt) => {\n        this.setState({\n            phone_number: evt.target.value,\n        });\n    }\n\n    handleEmailChange = (evt) => {\n        this.setState({\n            email: evt.target.value,\n        });\n    }\n    \n    \n    render() {\n        return ( \n            <main>\n                <CssBaseline />\n                {\n                this.state.error\n                    && (\n                    <h3 data-test=\"error\">\n                    <button onClick={this.dismissError}>âœ–</button>\n                    {this.state.error}\n                    </h3>\n                    )\n                }\n                <Typography component=\"h1\" variant=\"h5\">\n                    New Contact\n                </Typography>\n                <form onSubmit={this.handleSubmit}>\n                    <FormControl margin=\"normal\" required fullWidth>\n                        <Input id=\"first_name\" onChange={this.handleFirstNameChange} placeholder=\"First Name\" name=\"first_name\" autoComplete=\"first name\" autoFocus />\n                        <Input id=\"last_name\" onChange={this.handleLastNameChange} placeholder=\"Last Name\" name=\"last_name\" autoComplete=\"last name\" />\n                        <Input id=\"phone_number\" onChange={this.handlePhoneChange}placeholder=\"Phone Number\" name=\"phone_number\" autoComplete=\"phone number\" />\n                        <Input id=\"email\" name=\"email\" onChange={this.handleEmailChange} placeholder=\"Email\" autoComplete=\"email\" />\n                    </FormControl>\n                    <Button\n                        type=\"submit\"\n                        variant=\"contained\"\n                    >\n                        Submit\n                    </Button>\n                </form>\n            </main>\n        )\n    }\n}"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AAEA;AACA;AAEA;;;;;AAEA;AAAA;AACA;AADA;AACA;AAAA;AACA;AAFA;AAYA;AADA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AADA;AAGA;AACA;AACA;AACA;AACA;AAJA;AALA;AAWA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAjCA;AAmCA;AACA;AADA;AAGA;AACA;AAvCA;AAyCA;AACA;AADA;AAGA;AACA;AA7CA;AAgDA;AACA;AADA;AAGA;AACA;AApDA;AAsDA;AACA;AADA;AAGA;AACA;AAxDA;AACA;AACA;AACA;AACA;AACA;AALA;AAFA;AASA;AACA;;;AAkDA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;;;;AA9FA;AACA;;;;;A","sourceRoot":""}